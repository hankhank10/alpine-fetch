<html data-theme="light" lang="en">
<head>
    <script defer src="https://gitcdn.link/cdn/hankhank10/alpine-fetch/main/alpine-fetch.js"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="output.css">

</head>

<body class="p-10">

<div>

    <article class="prose">
        <h2>Introduction</h2>
        <p>All of these examples use a simple API with the following endpoints:</p>
        <ul>
            <li><a href="https://weathermockapi.herokuapp.com/hello_world">https://weathermockapi.herokuapp.com/hello_world</a></li>
            <li><a href="https://weathermockapi.herokuapp.com/hello_world_html">https://weathermockapi.herokuapp.com/hello_world_html</a></li>
            <li><a href="https://weathermockapi.herokuapp.com/some_json">https://weathermockapi.herokuapp.com/some_json</a></li>
        </ul>
    </article>

    <article class="prose mt-20">
        <h2>String to x-text</h2>
        <div x-data>
            <span x-text="await $fetch('https://weathermockapi.herokuapp.com/hello_world')">This will be replaced</span>
        </div>
    </article>

    <article class="prose mt-20">
        <h2>String to x-html</h2>
        <div x-data>
            <span x-html="await $fetch('https://weathermockapi.herokuapp.com/hello_world_html')"></span>
        </div>
    </article>


    <article class="prose mt-20">
        <h2>Retrieving once, using multiple times</h2>
        <div x-data="{ hello_world: $fetch('https://weathermockapi.herokuapp.com/hello_world') }">
            <span x-text="await hello_world"></span><br>
            <span x-text="await hello_world"></span>
        </div>
    </article>

    <article class="prose mt-20">
        <h2>Retrieving JSON</h2>
        <div x-data>
            <p>
                The weather is <span x-text="await $fetchjson('https://weathermockapi.herokuapp.com/some_json', jsonItem='weather')"></span>
            </p>
        </div>
    </article>

    <article class="prose mt-20">
        <h2>Responding to a button press</h2>
        <div x-data="{ weather: 'uncertain at this stage' }">
            <p>
                The weather is <span x-text="weather"></span>
            </p>

            <button
                    class="btn"
                    x-on:click="weather = await $fetchjson('https://weathermockapi.herokuapp.com/some_json', jsonItem='weather')"
            >Click me to change the weather</button>

        </div>
    </article>



</div>



</body>
</html>